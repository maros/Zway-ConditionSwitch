{
    "author": "Maroš Kollár",
    "category": "test",
    "defaults": {
        "description": "__description__",
        "title": "__title__"
    },
    "dependencies": [
        "BaseModule"
    ],
    "homepage": "http://k-1.com",
    "icon": "icon.png",
    "maturity": "stable",
    "moduleName": "ConditionSwitch",
    "options": {
        "fields": {
            "presenceMode": {
                "label": "__presence_mode_label__",
                "optionLabels": [
                    "__presence_mode_home__",
                    "__presence_mode_away__",
                    "__presence_mode_vacation__",
                    "__presence_mode_night__"
                ],
                "order": 1,
                "type": "checkbox"
            },
            "time": {
                "order": 2,
                "helper": "__time_helper__",
                "label": "__time_label__",
                "items": {
                    "fields": {
                        "timeFrom": {
                            "label": "__time_from_label__",
                            "order": 1
                        },
                        "timeTo": {
                            "label": "__time_to_label__",
                            "order": 2
                        },
                        "dayofweek": {
                            "label": "__dayofweek_label__",
                            "optionLabels": [
                                "__dayofweek_0__",
                                "__dayofweek_1__",
                                "__dayofweek_2__",
                                "__dayofweek_3__",
                                "__dayofweek_4__",
                                "__dayofweek_5__",
                                "__dayofweek_6__"
                            ],
                            "type": "checkbox"
                        }
                    }
                }
            },
            "binary": {
                "order": 3,
                "helper": "__binary_helper__",
                "label": "__binary_label__",
                "items": {
                    "fields": {
                        "device": {
                            "datasource": "namespaces",
                            "field": "optionLabels",
                            "label": "",
                            "optionLabels": "namespaces:devices_sensorBinary:deviceName,namespaces:devices_switchBinary:deviceName",
                            "type": "select",
                            "order": 1
                        },
                        "value": {
                            "order": 2
                        }
                    }
                }
            },
            "multilevel": {
                "order": 4,
                "helper": "__multilevel_helper__",
                "label": "__multilevel_label__",
                "items": {
                    "fields": {
                        "device": {
                            "datasource": "namespaces",
                            "field": "optionLabels",
                            "label": "",
                            "optionLabels": "namespaces:devices_sensorMultilevel:deviceName,namespaces:devices_switchMultilevel:deviceName",
                            "order": 1,
                            "type": "select"
                        },
                        "operator": {
                            "optionLabels": [
                                "=",
                                "≠",
                                ">",
                                "≥",
                                "<",
                                "≤"
                            ],
                            "order": 2,
                            "type": "select"
                        },
                        "value": {
                            "order": 3
                        }
                    }
                }
            },
            "negate": {
                "order": 5,
                "label": "__negate_label__",
                "helper": "__negate_helper__"
            },
            "devices": {
                "fields": {
                    "item": {
                        "datasource": "namespaces",
                        "field": "devices",
                        "optionLabels": "namespaces:devices_switchBinary:deviceName",
                        "type": "select"
                    }
                },
                "label": "__devices_label__",
                "order": 6
            }
        }
    },
    "repository": {
        "source": "https://github.com/maros/Zway-ConditionSwitch",
        "type": "git"
    },
    "schema": {
        "properties": {
            "presenceMode": {
                "enum": [
                    "home",
                    "away",
                    "vacation",
                    "night"
                ],
                "type": "array"
            },
            "time": {
                "type": "array",
                "items": {
                    "type": "object",
                    "properties": {
                        "timeFrom": {
                            "pattern": "^([01]?[0-9]|2[0-3]):([0-5][0-9])$",
                            "placeholder": "__time_placeholder__",
                            "type": "string",
                            "required": true
                        },
                        "timeTo": {
                            "pattern": "^([01]?[0-9]|2[0-3]):([0-5][0-9])$",
                            "placeholder": "__time_placeholder__",
                            "type": "string",
                            "required": true
                        },
                        "dayofweek": {
                            "enum": [
                                "0",
                                "1",
                                "2",
                                "3",
                                "4",
                                "5",
                                "6"
                            ],
                            "type": "array"
                        }
                    }
                }
            },
            "binary": {
                "type": "array",
                "items": {
                    "type": "object",
                    "properties": {
                        "device": {
                            "datasource": "namespaces",
                            "enum": "namespaces:devices_sensorBinary:deviceId,namespaces:devices_switchBinary:deviceId",
                            "field": "enum",
                            "required": true
                        },
                        "value": {
                            "default": "on",
                            "enum": [
                                "off",
                                "on"
                            ],
                            "required": true,
                            "type": "string"
                        }
                    }
                }
            },
            "multilevel": {
                "type": "array",
                "items": {
                    "properties": {
                        "device": {
                            "datasource": "namespaces",
                            "enum": "namespaces:devices_sensorMultilevel:deviceId,namespaces:devices_switchMultilevel:deviceId,namespaces:devices_battery:deviceId",
                            "field": "enum",
                            "required": true
                        },
                        "operator": {
                            "enum": [
                                "=",
                                "!=",
                                ">",
                                ">=",
                                "<",
                                "<="
                            ],
                            "required": true,
                            "type": "string"
                        },
                        "value": {
                            "required": true,
                            "type": "number"
                        }
                    },
                    "type": "object"
                }
            },
            "negate": {
                "type": "boolean",
                "default": false
            },
            "devices": {
                "items": {
                    "datasource": "namespaces",
                    "enum": "namespaces:devices_switchBinary:deviceId",
                    "field": "enum",
                    "required": true
                },
                "type": "array"
            }
        },
        "required": true,
        "type": "object"
    },
    "singleton": false,
    "version": "1.00"
}